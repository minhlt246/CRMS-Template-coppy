// ========================================
// UI Components
// ========================================

@use "./variables" as *;
@use "./mixins" as *;

// Buttons
.btn {
    display: inline-block;
    font-weight: var(--font-weight-medium);
    line-height: 1.5;
    color: var(--gray-700);
    text-align: center;
    text-decoration: none;
    vertical-align: middle;
    cursor: pointer;
    user-select: none;
    background-color: transparent;
    border: 1px solid transparent;
    padding: 0.375rem 0.75rem;
    font-size: var(--font-size-base);
    border-radius: var(--border-radius);
    @include transition(var(--transition-base));

    &:hover {
        color: var(--gray-700);
        text-decoration: none;
    }

    &:focus,
    &.focus {
        outline: 0;
        box-shadow: 0 0 0 0.2rem rgba(var(--primary), 0.25);
    }

    &:disabled,
    &.disabled {
        pointer-events: none;
        opacity: 0.65;
    }

    &:not(:disabled):not(.disabled):active,
    &:not(:disabled):not(.disabled).active {
        background-image: none;
    }

    &:not(:disabled):not(.disabled):active:focus,
    &:not(:disabled):not(.disabled).active:focus {
        box-shadow: 0 0 0 0.2rem rgba(var(--primary), 0.5);
    }
}

// Button Variants
.btn-primary {
    @include button-variant(var(--primary), var(--primary));
}

.btn-secondary {
    @include button-variant(var(--secondary), var(--secondary));
}

.btn-success {
    @include button-variant(var(--success), var(--success));
}

.btn-danger {
    @include button-variant(var(--danger), var(--danger));
}

.btn-warning {
    @include button-variant(var(--warning), var(--warning));
    color: var(--dark);
}

.btn-info {
    @include button-variant(var(--info), var(--info));
}

.btn-light {
    @include button-variant(var(--light), var(--light));
    color: var(--dark);
}

.btn-dark {
    @include button-variant(var(--dark), var(--dark));
}

.btn-outline-primary {
    @include button-outline-variant(var(--primary));
}

.btn-outline-secondary {
    @include button-outline-variant(var(--secondary));
}

.btn-outline-success {
    @include button-outline-variant(var(--success));
}

.btn-outline-danger {
    @include button-outline-variant(var(--danger));
}

.btn-outline-warning {
    @include button-outline-variant(var(--warning));
}

.btn-outline-info {
    @include button-outline-variant(var(--info));
}

.btn-outline-light {
    @include button-outline-variant(var(--light));
}

.btn-outline-dark {
    @include button-outline-variant(var(--dark));
}

// Button Sizes
.btn-sm {
    padding: 0.25rem 0.5rem;
    font-size: var(--font-size-sm);
    border-radius: var(--border-radius-sm);
}

.btn-lg {
    padding: 0.5rem 1rem;
    font-size: var(--font-size-lg);
    border-radius: var(--border-radius-lg);
}

// Button Groups
.btn-group {
    position: relative;
    display: inline-flex;
    vertical-align: middle;

    >.btn {
        position: relative;
        flex: 1 1 auto;

        &:hover {
            z-index: 1;
        }

        &:focus,
        &:active,
        &.active {
            z-index: 1;
        }
    }
}

.btn-group-vertical {
    flex-direction: column;
    align-items: flex-start;
    justify-content: center;

    >.btn {
        width: 100%;

        &:not(:last-child) {
            border-bottom-right-radius: 0;
            border-bottom-left-radius: 0;
        }

        &:not(:first-child) {
            border-top-left-radius: 0;
            border-top-right-radius: 0;
        }
    }
}

// Forms
.form-control {
    display: block;
    width: 100%;
    padding: 0.375rem 0.75rem;
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-normal);
    line-height: 1.5;
    color: var(--gray-700);
    background-color: var(--white);
    background-clip: padding-box;
    border: 1px solid var(--gray-300);
    appearance: none;
    border-radius: var(--border-radius);
    @include transition(var(--transition-base));
    @include form-control-focus();

    &::placeholder {
        color: var(--gray-500);
        opacity: 1;
    }

    &:disabled,
    &[readonly] {
        background-color: var(--gray-100);
        opacity: 1;
    }

    &[type="file"] {
        padding: 0.375rem 0.75rem;

        &:not(:disabled):not([readonly]) {
            cursor: pointer;
        }
    }

    &[type="color"] {
        width: 3rem;
        height: calc(1.5em + 0.75rem + 2px);
        padding: 0.375rem;
    }
}

.form-control-sm {
    min-height: calc(1.5em + 0.5rem + 2px);
    padding: 0.25rem 0.5rem;
    font-size: var(--font-size-sm);
    border-radius: var(--border-radius-sm);
}

.form-control-lg {
    min-height: calc(1.5em + 1rem + 2px);
    padding: 0.5rem 1rem;
    font-size: var(--font-size-lg);
    border-radius: var(--border-radius-lg);
}

.form-label {
    margin-bottom: 0.5rem;
    font-weight: var(--font-weight-medium);
}

.form-text {
    margin-top: 0.25rem;
    font-size: var(--font-size-sm);
    color: var(--gray-600);
}

// Form Groups
.form-group {
    margin-bottom: 1rem;
}

.form-row {
    display: flex;
    flex-wrap: wrap;
    margin-right: -5px;
    margin-left: -5px;

    >.col,
    >[class*="col-"] {
        padding-right: 5px;
        padding-left: 5px;
    }
}

// Input Groups
.input-group {
    position: relative;
    display: flex;
    flex-wrap: wrap;
    align-items: stretch;
    width: 100%;

    >.form-control,
    >.form-select {
        position: relative;
        flex: 1 1 auto;
        width: 1%;
        min-width: 0;
    }

    >.form-control:focus,
    >.form-select:focus {
        z-index: 3;
    }

    .btn {
        position: relative;
        z-index: 2;

        &:focus {
            z-index: 3;
        }
    }
}

.input-group-text {
    display: flex;
    align-items: center;
    padding: 0.375rem 0.75rem;
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-normal);
    line-height: 1.5;
    color: var(--gray-700);
    text-align: center;
    white-space: nowrap;
    background-color: var(--gray-100);
    border: 1px solid var(--gray-300);
    border-radius: var(--border-radius);
}

// Form Validation
.was-validated .form-control:valid,
.form-control.is-valid {
    border-color: var(--success);
    @include form-validation-state("valid", var(--success));
}

.was-validated .form-control:invalid,
.form-control.is-invalid {
    border-color: var(--danger);
    @include form-validation-state("invalid", var(--danger));
}

// Cards
.card {
    position: relative;
    display: flex;
    flex-direction: column;
    min-width: 0;
    word-wrap: break-word;
    background-color: var(--white);
    background-clip: border-box;
    border: 1px solid var(--gray-300);
    border-radius: var(--border-radius);

    >hr {
        margin-right: 0;
        margin-left: 0;
    }

    >.list-group {
        border-top: inherit;
        border-bottom: inherit;

        &:first-child {
            border-top-width: 0;
            border-top-left-radius: calc(var(--border-radius) - 1px);
            border-top-right-radius: calc(var(--border-radius) - 1px);
        }

        &:last-child {
            border-bottom-width: 0;
            border-bottom-right-radius: calc(var(--border-radius) - 1px);
            border-bottom-left-radius: calc(var(--border-radius) - 1px);
        }
    }

    >.card-header+.list-group,
    >.list-group+.card-footer {
        border-top: 0;
    }
}

.card-body {
    flex: 1 1 auto;
    padding: 1rem;
    color: var(--gray-700);
}

.card-title {
    margin-bottom: 0.5rem;
}

.card-subtitle {
    margin-top: -0.25rem;
    margin-bottom: 0;
}

.card-text:last-child {
    margin-bottom: 0;
}

.card-link {
    &:hover {
        text-decoration: none;
    }

    +.card-link {
        margin-left: 1rem;
    }
}

.card-header {
    padding: 0.5rem 1rem;
    margin-bottom: 0;
    color: var(--gray-700);
    background-color: var(--gray-100);
    border-bottom: 1px solid var(--gray-300);

    &:first-child {
        border-radius: calc(var(--border-radius) - 1px) calc(var(--border-radius) - 1px) 0 0;
    }
}

.card-footer {
    padding: 0.5rem 1rem;
    color: var(--gray-700);
    background-color: var(--gray-100);
    border-top: 1px solid var(--gray-300);

    &:last-child {
        border-radius: 0 0 calc(var(--border-radius) - 1px) calc(var(--border-radius) - 1px);
    }
}

// Alerts
.alert {
    position: relative;
    padding: 0.75rem 1.25rem;
    margin-bottom: 1rem;
    border: 1px solid transparent;
    border-radius: var(--border-radius);
}

.alert-heading {
    color: inherit;
}

.alert-link {
    font-weight: var(--font-weight-bold);
}

.alert-dismissible {
    padding-right: 3rem;

    .btn-close {
        position: absolute;
        top: 0;
    }
}

.alert-primary {
    color: #084298;
    background-color: #cfe2ff;
    border-color: #b6d7ff;

    .alert-link {
        color: #06357a;
    }
}

.alert-secondary {
    color: #41464b;
    background-color: #e2e3e5;
    border-color: #d3d6d8;

    .alert-link {
        color: #34383c;
    }
}

.alert-success {
    color: #0f5132;
    background-color: #d1e7dd;
    border-color: #badbcc;

    .alert-link {
        color: #0c4128;
    }
}

.alert-danger {
    color: #842029;
    background-color: #f8d7da;
    border-color: #f5c2c7;

    .alert-link {
        color: #6a1a21;
    }
}

.alert-warning {
    color: #664d03;
    background-color: #fff3cd;
    border-color: #ffecb5;

    .alert-link {
        color: #523e02;
    }
}

.alert-info {
    color: #055160;
    background-color: #d1ecf1;
    border-color: #b8daff;

    .alert-link {
        color: #04414d;
    }
}

.alert-light {
    color: #636464;
    background-color: #fefefe;
    border-color: #fdfdfe;

    .alert-link {
        color: #4f5050;
    }
}

.alert-dark {
    color: #141619;
    background-color: #d3d3d4;
    border-color: #bcbebf;

    .alert-link {
        color: #101214;
    }
}

// Badges
.badge {
    display: inline-block;
    padding: 0.35em 0.65em;
    font-size: 0.75em;
    font-weight: var(--font-weight-bold);
    line-height: 1;
    color: var(--white);
    text-align: center;
    white-space: nowrap;
    vertical-align: baseline;
    border-radius: var(--border-radius);

    &:empty {
        display: none;
    }
}

@each $color, $value in (primary: var(--primary),
    secondary: var(--secondary),
    success: var(--success),
    danger: var(--danger),
    warning: var(--warning),
    info: var(--info),
    light: var(--light),
    dark: var(--dark)) {
    .badge-#{$color} {
        background-color: #{$value};
    }
}

.badge-pill {
    padding-right: 0.6em;
    padding-left: 0.6em;
    border-radius: 10rem;
}

// Progress
.progress {
    display: flex;
    height: 1rem;
    overflow: hidden;
    font-size: 0.75rem;
    background-color: var(--gray-200);
    border-radius: var(--border-radius);
}

.progress-bar {
    display: flex;
    flex-direction: column;
    justify-content: center;
    overflow: hidden;
    color: var(--white);
    text-align: center;
    white-space: nowrap;
    background-color: var(--primary);
    @include transition(width 0.6s ease);
}

.progress-bar-striped {
    background-image: linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
    background-size: 1rem 1rem;
}

.progress-bar-animated {
    animation: progress-bar-stripes 1s linear infinite;
}

@keyframes progress-bar-stripes {
    0% {
        background-position-x: 1rem;
    }
}

// List Groups
.list-group {
    display: flex;
    flex-direction: column;
    padding-left: 0;
    margin-bottom: 0;
    border-radius: var(--border-radius);
}

.list-group-item {
    position: relative;
    display: block;
    padding: 0.5rem 1rem;
    color: var(--gray-700);
    text-decoration: none;
    background-color: var(--white);
    border: 1px solid var(--gray-300);

    &:first-child {
        border-top-left-radius: inherit;
        border-top-right-radius: inherit;
    }

    &:last-child {
        border-bottom-right-radius: inherit;
        border-bottom-left-radius: inherit;
    }

    &:hover,
    &:focus {
        z-index: 1;
        color: var(--gray-700);
        text-decoration: none;
        background-color: var(--gray-100);
    }

    &:disabled,
    &.disabled {
        color: var(--gray-500);
        pointer-events: none;
        background-color: var(--white);
    }

    &.active {
        z-index: 2;
        color: var(--white);
        background-color: var(--primary);
        border-color: var(--primary);
    }
}

.list-group-flush {
    border-radius: 0;

    >.list-group-item {
        border-width: 0 0 1px;

        &:last-child {
            border-bottom-width: 0;
        }
    }
}

// Modals
.modal {
    position: fixed;
    top: 0;
    left: 0;
    z-index: var(--z-modal);
    display: none;
    width: 100%;
    height: 100%;
    overflow-x: hidden;
    overflow-y: auto;
    outline: 0;
}

.modal-dialog {
    position: relative;
    width: auto;
    margin: 0.5rem;
    pointer-events: none;
}

.modal-content {
    position: relative;
    display: flex;
    flex-direction: column;
    width: 100%;
    pointer-events: auto;
    background-color: var(--white);
    background-clip: padding-box;
    border: 1px solid var(--gray-300);
    border-radius: var(--border-radius-lg);
    box-shadow: var(--shadow-lg);
    outline: 0;
}

.modal-backdrop {
    position: fixed;
    top: 0;
    left: 0;
    z-index: var(--z-modal-backdrop);
    width: 100vw;
    height: 100vh;
    background-color: var(--black);

    &.fade {
        opacity: 0;
    }

    &.show {
        opacity: 0.5;
    }
}

.modal-header {
    display: flex;
    flex-shrink: 0;
    align-items: center;
    justify-content: space-between;
    padding: 1rem 1rem;
    border-bottom: 1px solid var(--gray-300);
    border-top-left-radius: calc(var(--border-radius-lg) - 1px);
    border-top-right-radius: calc(var(--border-radius-lg) - 1px);
}

.modal-title {
    margin-bottom: 0;
    line-height: 1.5;
}

.modal-body {
    position: relative;
    flex: 1 1 auto;
    padding: 1rem;
}

.modal-footer {
    display: flex;
    flex-wrap: wrap;
    flex-shrink: 0;
    align-items: center;
    justify-content: flex-end;
    padding: 0.75rem;
    border-top: 1px solid var(--gray-300);
    border-bottom-right-radius: calc(var(--border-radius-lg) - 1px);
    border-bottom-left-radius: calc(var(--border-radius-lg) - 1px);

    >* {
        margin: 0.25rem;
    }
}

// Dropdowns
.dropdown {
    position: relative;
}

.dropdown-menu {
    position: absolute;
    z-index: var(--z-dropdown);
    display: none;
    min-width: 10rem;
    padding: 0.5rem 0;
    margin: 0;
    font-size: var(--font-size-base);
    color: var(--gray-700);
    text-align: left;
    list-style: none;
    background-color: var(--white);
    background-clip: padding-box;
    border: 1px solid var(--gray-300);
    border-radius: var(--border-radius);
    box-shadow: var(--shadow);
}

.dropdown-item {
    display: block;
    width: 100%;
    padding: 0.25rem 1rem;
    clear: both;
    font-weight: var(--font-weight-normal);
    color: var(--gray-700);
    text-align: inherit;
    text-decoration: none;
    white-space: nowrap;
    background-color: transparent;
    border: 0;

    &:hover,
    &:focus {
        color: var(--gray-900);
        text-decoration: none;
        background-color: var(--gray-100);
    }

    &.active,
    &:active {
        color: var(--white);
        text-decoration: none;
        background-color: var(--primary);
    }

    &.disabled,
    &:disabled {
        color: var(--gray-500);
        pointer-events: none;
        background-color: transparent;
    }
}

// Navs
.nav {
    display: flex;
    flex-wrap: wrap;
    padding-left: 0;
    margin-bottom: 0;
    list-style: none;
}

.nav-link {
    display: block;
    padding: 0.5rem 1rem;
    color: var(--gray-700);
    text-decoration: none;
    @include transition(var(--transition-base));

    &:hover,
    &:focus {
        color: var(--gray-900);
        text-decoration: none;
    }

    &.disabled {
        color: var(--gray-500);
        pointer-events: none;
        cursor: default;
    }
}

.nav-tabs {
    border-bottom: 1px solid var(--gray-300);

    .nav-link {
        margin-bottom: -1px;
        background: none;
        border: 1px solid transparent;
        border-top-left-radius: var(--border-radius);
        border-top-right-radius: var(--border-radius);

        &:hover,
        &:focus {
            border-color: var(--gray-300) var(--gray-300) var(--gray-300);
            isolation: isolate;
        }

        &.disabled {
            color: var(--gray-500);
            background-color: transparent;
            border-color: transparent;
        }

        &.active {
            color: var(--gray-700);
            background-color: var(--white);
            border-color: var(--gray-300) var(--gray-300) var(--white);
        }
    }
}

.nav-pills {
    .nav-link {
        background: none;
        border: 0;
        border-radius: var(--border-radius);

        &.active {
            color: var(--white);
            background-color: var(--primary);
        }
    }
}

// Navbar
.navbar {
    position: relative;
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    justify-content: space-between;
    padding-top: 0.5rem;
    padding-bottom: 0.5rem;

    .container,
    .container-fluid {
        display: flex;
        flex-wrap: inherit;
        align-items: center;
        justify-content: space-between;
    }
}

.navbar-brand {
    padding-top: 0.3125rem;
    padding-bottom: 0.3125rem;
    margin-right: 1rem;
    font-size: var(--font-size-lg);
    color: var(--gray-900);
    text-decoration: none;
    white-space: nowrap;

    &:hover,
    &:focus {
        color: var(--gray-900);
        text-decoration: none;
    }
}

.navbar-nav {
    display: flex;
    flex-direction: column;
    padding-left: 0;
    margin-bottom: 0;
    list-style: none;

    .nav-link {
        padding-right: 0;
        padding-left: 0;
    }
}

.navbar-toggler {
    padding: 0.25rem 0.75rem;
    font-size: var(--font-size-lg);
    line-height: 1;
    color: var(--gray-700);
    background-color: transparent;
    border: 1px solid var(--gray-300);
    border-radius: var(--border-radius);
    @include transition(var(--transition-base));

    &:hover {
        text-decoration: none;
    }

    &:focus {
        text-decoration: none;
        box-shadow: 0 0 0 0.25rem;
    }
}

// Tables
.table {
    width: 100%;
    margin-bottom: 1rem;
    color: var(--gray-700);
    vertical-align: top;
    border-color: var(--gray-300);

    > :not(caption)>*>* {
        padding: 0.5rem 0.5rem;
        background-color: var(--white);
        border-bottom-width: 1px;
    }

    >tbody {
        vertical-align: inherit;
    }

    >thead {
        vertical-align: bottom;
    }
}

.table-striped>tbody>tr:nth-of-type(odd)>td,
.table-striped>tbody>tr:nth-of-type(odd)>th {
    --bs-table-accent-bg: rgba(0, 0, 0, 0.05);
    color: var(--gray-700);
}

.table-hover>tbody>tr:hover>td,
.table-hover>tbody>tr:hover>th {
    --bs-table-accent-bg: rgba(0, 0, 0, 0.075);
    color: var(--gray-700);
}

// Utilities
.text-truncate {
    @include text-truncate();
}

.sr-only {
    @include sr-only();
}

.sr-only-focusable {
    @include sr-only-focusable();
}

.clearfix {
    @include clearfix();
}